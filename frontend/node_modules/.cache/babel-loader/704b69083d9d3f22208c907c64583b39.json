{"ast":null,"code":"import _slicedToArray from\"/Users/mike/Desktop/Code/Projects/Diploma/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Link}from\"react-router-dom\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Login=function Login(_ref){var errorStatus=_ref.errorStatus,setErrorStatus=_ref.setErrorStatus,errorText=_ref.errorText,onSubmit=_ref.onSubmit;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState({emailValidationMessage:\"\",isEmailValid:false}),_useState4=_slicedToArray(_useState3,2),emailValidation=_useState4[0],setEmailValidation=_useState4[1];var _useState5=useState({passwordValidationMessage:\"\",isPasswordValid:false}),_useState6=_slicedToArray(_useState5,2),passwordValidation=_useState6[0],setPasswordValidation=_useState6[1];var _useState7=useState(\"\"),_useState8=_slicedToArray(_useState7,2),password=_useState8[0],setPassword=_useState8[1];var handlePasswordChange=function handlePasswordChange(e){setPassword(e.target.value);var validationMessage=e.target.validationMessage;setPasswordValidation({passwordValidationMessage:validationMessage,isPasswordValid:e.target.validity.valid});setErrorStatus(false);};var handleEmailChange=function handleEmailChange(e){setEmail(e.target.value);var validationMessage=e.target.validationMessage;setEmailValidation({emailValidationMessage:validationMessage,isEmailValid:e.target.validity.valid});setErrorStatus(false);};var handleSubmit=function handleSubmit(e){e.preventDefault();onSubmit(email,password);};console.log(errorText);return/*#__PURE__*/_jsxs(\"form\",{className:\"signform\",onSubmit:handleSubmit,noValidate:true,children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"signform__logo\"}),/*#__PURE__*/_jsx(\"h2\",{className:\"signform__title\",children:\"\\u0420\\u0430\\u0434\\u044B \\u0432\\u0438\\u0434\\u0435\\u0442\\u044C!\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"signform__field\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"signform__field-subtitle\",children:\"E-mail\"}),/*#__PURE__*/_jsx(\"input\",{className:\"signform__field-input\",type:\"email\",value:email,name:\"loginEmail\",id:\"login-email-input\",pattern:\"[a-z0-9]+@[a-z]+\\\\.[a-z]{2,3}\",onChange:handleEmailChange,autoComplete:\"off\",noValidate:true,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"signform__field-error login-email-input-error \".concat(!emailValidation.isEmailValid?\"signform__input-error_active\":\"\"),children:emailValidation.emailValidationMessage})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"signform__field\",children:[/*#__PURE__*/_jsx(\"h5\",{className:\"signform__field-subtitle\",children:\"\\u041F\\u0430\\u0440\\u043E\\u043B\\u044C\"}),/*#__PURE__*/_jsx(\"input\",{className:\"signform__field-input\",type:\"password\",value:password,id:\"login-password-input\",name:\"login-password\",onChange:handlePasswordChange,minLength:\"8\",maxLength:\"20\",autoComplete:\"off\",noValidate:true,required:true}),/*#__PURE__*/_jsx(\"span\",{className:\"signform__field-error password-email-input-error \".concat(!passwordValidation.isPasswordValid?\"signform__input-error_active\":\"\"),children:passwordValidation.passwordValidationMessage})]}),errorStatus?/*#__PURE__*/_jsx(\"span\",{className:\"signform__server-error signform__server-error-login\",children:errorText}):/*#__PURE__*/_jsx(_Fragment,{}),/*#__PURE__*/_jsx(\"button\",{className:\"signform__button signform__button-signin \".concat(!passwordValidation.isPasswordValid||!emailValidation.isEmailValid?\" signform__button-disabled\":\"\"),disabled:!passwordValidation.isPasswordValid||!emailValidation.isEmailValid?true:false,type:\"submit\",children:\"\\u0412\\u043E\\u0439\\u0442\\u0438\"}),/*#__PURE__*/_jsxs(Link,{className:\"signform__span\",to:\"/sign-in\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"signform__span-text\",children:\"\\u0415\\u0449\\u0451 \\u043D\\u0435 \\u0437\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u044B?\"}),/*#__PURE__*/_jsx(\"p\",{className:\"signform__span-text signform__span-bluetext\",children:\"\\u0417\\u0430\\u0440\\u0435\\u0433\\u0438\\u0441\\u0442\\u0440\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\\u0441\\u044F\"})]})]});};export default Login;","map":{"version":3,"names":["Link","useState","Login","errorStatus","setErrorStatus","errorText","onSubmit","email","setEmail","emailValidationMessage","isEmailValid","emailValidation","setEmailValidation","passwordValidationMessage","isPasswordValid","passwordValidation","setPasswordValidation","password","setPassword","handlePasswordChange","e","target","value","validationMessage","validity","valid","handleEmailChange","handleSubmit","preventDefault","console","log"],"sources":["/Users/mike/Desktop/Code/Projects/Diploma/movies-explorer-frontend/src/components/Login/Login.js"],"sourcesContent":["import { Link } from \"react-router-dom\";\nimport { useState } from \"react\";\n\nconst Login = ({ errorStatus, setErrorStatus, errorText, onSubmit }) => {\n  const [email, setEmail] = useState(\"\");\n  const [emailValidation, setEmailValidation] = useState({\n    emailValidationMessage: \"\",\n    isEmailValid: false,\n  });\n  const [passwordValidation, setPasswordValidation] = useState({\n    passwordValidationMessage: \"\",\n    isPasswordValid: false,\n  });\n  const [password, setPassword] = useState(\"\");\n\n  const handlePasswordChange = (e) => {\n    setPassword(e.target.value);\n\n    const { validationMessage } = e.target;\n\n    setPasswordValidation({\n      passwordValidationMessage: validationMessage,\n      isPasswordValid: e.target.validity.valid,\n    });\n    setErrorStatus(false);\n  };\n  const handleEmailChange = (e) => {\n    setEmail(e.target.value);\n\n    const { validationMessage } = e.target;\n\n    setEmailValidation({\n      emailValidationMessage: validationMessage,\n      isEmailValid: e.target.validity.valid,\n    });\n    setErrorStatus(false);\n  };\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    onSubmit(email, password);\n  };\n\n  console.log(errorText);\n\n  return (\n    <form className=\"signform\" onSubmit={handleSubmit} noValidate>\n      <Link to=\"/\" className=\"signform__logo\" />\n      <h2 className=\"signform__title\">Рады видеть!</h2>\n      <div className=\"signform__field\">\n        <h5 className=\"signform__field-subtitle\">E-mail</h5>\n        <input\n          className=\"signform__field-input\"\n          type=\"email\"\n          value={email}\n          name=\"loginEmail\"\n          id=\"login-email-input\"\n          pattern=\"[a-z0-9]+@[a-z]+\\.[a-z]{2,3}\"\n          onChange={handleEmailChange}\n          autoComplete=\"off\"\n          noValidate\n          required\n        />\n        <span\n          className={`signform__field-error login-email-input-error ${\n            !emailValidation.isEmailValid ? \"signform__input-error_active\" : \"\"\n          }`}\n        >\n          {emailValidation.emailValidationMessage}\n        </span>\n      </div>\n      <div className=\"signform__field\">\n        <h5 className=\"signform__field-subtitle\">Пароль</h5>\n        <input\n          className=\"signform__field-input\"\n          type=\"password\"\n          value={password}\n          id=\"login-password-input\"\n          name=\"login-password\"\n          onChange={handlePasswordChange}\n          minLength=\"8\"\n          maxLength=\"20\"\n          autoComplete=\"off\"\n          noValidate\n          required\n        />\n        <span\n          className={`signform__field-error password-email-input-error ${\n            !passwordValidation.isPasswordValid\n              ? \"signform__input-error_active\"\n              : \"\"\n          }`}\n        >\n          {passwordValidation.passwordValidationMessage}\n        </span>\n      </div>\n      {errorStatus ? (\n        <span className=\"signform__server-error signform__server-error-login\">\n          {errorText}\n        </span>\n      ) : (\n        <></>\n      )}\n      <button\n        className={`signform__button signform__button-signin ${\n          !passwordValidation.isPasswordValid || !emailValidation.isEmailValid\n            ? \" signform__button-disabled\"\n            : \"\"\n        }`}\n        disabled={\n          !passwordValidation.isPasswordValid || !emailValidation.isEmailValid\n            ? true\n            : false\n        }\n        type=\"submit\"\n      >\n        Войти\n      </button>\n      <Link className=\"signform__span\" to=\"/sign-in\">\n        <p className=\"signform__span-text\">Ещё не зарегистрированы?</p>\n        <p className=\"signform__span-text signform__span-bluetext\">\n          Зарегистрироваться\n        </p>\n      </Link>\n    </form>\n  );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}