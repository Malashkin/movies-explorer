{"ast":null,"code":"import _slicedToArray from\"/Users/mike/Desktop/Code/Projects/Diploma/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{useLocation}from\"react-router\";import searchIcon from\"./../../../images/search__icon.svg\";import searchButton from\"./../../../images/find.svg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var SearchForm=function SearchForm(_ref){var onChecked=_ref.onChecked,searchText=_ref.searchText,onSearchText=_ref.onSearchText,onLoading=_ref.onLoading,onCheckedSavedMovies=_ref.onCheckedSavedMovies,isChecked=_ref.isChecked,isCheckedSavedMovies=_ref.isCheckedSavedMovies,setSavedMoviesSearchText=_ref.setSavedMoviesSearchText;var _useState=useState(searchText),_useState2=_slicedToArray(_useState,2),text=_useState2[0],setText=_useState2[1];var _useState3=useState(\"searchform__error\"),_useState4=_slicedToArray(_useState3,2),errorClassName=_useState4[0],setErrorClassName=_useState4[1];var location=useLocation();function handleTextChange(evt){setText(evt.target.value);}function handleSubmit(searchTextFnc){onLoading(true);if(!text){return setErrorClassName(errorClassName+\" searchform__error_active\");}else{searchTextFnc(text);setTimeout(function(){onLoading(false);},200);return setErrorClassName(\"searchform__error\");}}function handleMoviesSubmit(evt){evt.preventDefault();handleSubmit(onSearchText);}function handleSavedMoviesSubmit(evt){evt.preventDefault();handleSubmit(setSavedMoviesSearchText);}return/*#__PURE__*/_jsx(_Fragment,{children:location.pathname===\"/movies\"?/*#__PURE__*/_jsxs(\"form\",{className:\"searchform\",onSubmit:handleMoviesSubmit,noValidate:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"searchform__container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"searchform__content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"searchform__line\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"searchform__icon\",src:searchIcon,alt:\"\\u041F\\u043E\\u0438\\u0441\\u043A\"}),/*#__PURE__*/_jsx(\"input\",{className:\"searchform__input\",type:\"search\",name:\"searchText\",value:text||\"\",placeholder:\"\\u0424\\u0438\\u043B\\u044C\\u043C\",onChange:handleTextChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{className:\"searchform__button\",type:\"submit\",children:/*#__PURE__*/_jsx(\"img\",{className:\"searchform__button-image\",src:searchButton,alt:\"\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"filter__checkbox\",type:\"checkbox\",onClick:onChecked,defaultChecked:isChecked?true:false}),/*#__PURE__*/_jsx(\"p\",{className:\"filter__text\",children:\"\\u041A\\u043E\\u0440\\u043E\\u0442\\u043A\\u043E\\u043C\\u0435\\u0442\\u0440\\u0430\\u0436\\u043A\\u0438\"})]})]}),/*#__PURE__*/_jsx(\"span\",{className:errorClassName,children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043A\\u043B\\u044E\\u0447\\u0435\\u0432\\u043E\\u0435 \\u0441\\u043B\\u043E\\u0432\\u043E\"})]}):/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"form\",{className:\"searchform\",onSubmit:handleSavedMoviesSubmit,noValidate:true,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"searchform__container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"searchform__content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"searchform__line\",children:[/*#__PURE__*/_jsx(\"img\",{className:\"searchform__icon\",src:searchIcon,alt:\"\\u041F\\u043E\\u0438\\u0441\\u043A\"}),/*#__PURE__*/_jsx(\"input\",{className:\"searchform__input\",type:\"search\",name:\"searchText\",value:text||\"\",placeholder:\"\\u0424\\u0438\\u043B\\u044C\\u043C\",onChange:handleTextChange,required:true})]}),/*#__PURE__*/_jsx(\"button\",{className:\"searchform__button\",type:\"submit\",children:/*#__PURE__*/_jsx(\"img\",{className:\"searchform__button-image\",src:searchButton,alt:\"\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"filter\",children:[/*#__PURE__*/_jsx(\"input\",{className:\"filter__checkbox\",type:\"checkbox\",onClick:onCheckedSavedMovies,defaultChecked:isCheckedSavedMovies?true:false}),/*#__PURE__*/_jsx(\"p\",{className:\"filter__text\",children:\"\\u041A\\u043E\\u0440\\u043E\\u0442\\u043A\\u043E\\u043C\\u0435\\u0442\\u0440\\u0430\\u0436\\u043A\\u0438\"})]})]}),/*#__PURE__*/_jsx(\"span\",{className:errorClassName,children:\"\\u0412\\u0432\\u0435\\u0434\\u0438\\u0442\\u0435 \\u043A\\u043B\\u044E\\u0447\\u0435\\u0432\\u043E\\u0435 \\u0441\\u043B\\u043E\\u0432\\u043E\"})]})})});};export default SearchForm;","map":{"version":3,"names":["useState","useLocation","searchIcon","searchButton","SearchForm","onChecked","searchText","onSearchText","onLoading","onCheckedSavedMovies","isChecked","isCheckedSavedMovies","setSavedMoviesSearchText","text","setText","errorClassName","setErrorClassName","location","handleTextChange","evt","target","value","handleSubmit","searchTextFnc","setTimeout","handleMoviesSubmit","preventDefault","handleSavedMoviesSubmit","pathname"],"sources":["/Users/mike/Desktop/Code/Projects/Diploma/movies-explorer-frontend/src/components/Movies/SearchForm/SearchForm.js"],"sourcesContent":["import { useState } from \"react\";\nimport { useLocation } from \"react-router\";\nimport searchIcon from \"./../../../images/search__icon.svg\";\nimport searchButton from \"./../../../images/find.svg\";\n\nconst SearchForm = ({\n  onChecked,\n  searchText,\n  onSearchText,\n  onLoading,\n  onCheckedSavedMovies,\n  isChecked,\n  isCheckedSavedMovies,\n  setSavedMoviesSearchText,\n}) => {\n  const [text, setText] = useState(searchText);\n  const [errorClassName, setErrorClassName] = useState(\"searchform__error\");\n  let location = useLocation();\n\n  function handleTextChange(evt) {\n    setText(evt.target.value);\n  }\n\n  function handleSubmit(searchTextFnc) {\n    onLoading(true);\n    if (!text) {\n      return setErrorClassName(errorClassName + \" searchform__error_active\");\n    } else {\n      searchTextFnc(text);\n      setTimeout(() => {\n        onLoading(false);\n      }, 200);\n      return setErrorClassName(\"searchform__error\");\n    }\n  }\n\n  function handleMoviesSubmit(evt) {\n    evt.preventDefault();\n    handleSubmit(onSearchText);\n  }\n\n  function handleSavedMoviesSubmit(evt) {\n    evt.preventDefault();\n    handleSubmit(setSavedMoviesSearchText);\n  }\n\n  return (\n    <>\n      {location.pathname === \"/movies\" ? (\n        <form className=\"searchform\" onSubmit={handleMoviesSubmit} noValidate>\n          <div className=\"searchform__container\">\n            <div className=\"searchform__content\">\n              <div className=\"searchform__line\">\n                <img\n                  className=\"searchform__icon\"\n                  src={searchIcon}\n                  alt=\"Поиск\"\n                ></img>\n                <input\n                  className=\"searchform__input\"\n                  type=\"search\"\n                  name=\"searchText\"\n                  value={text || \"\"}\n                  placeholder=\"Фильм\"\n                  onChange={handleTextChange}\n                  required\n                ></input>\n              </div>\n              <button className=\"searchform__button\" type=\"submit\">\n                <img\n                  className=\"searchform__button-image\"\n                  src={searchButton}\n                  alt=\"\"\n                ></img>\n              </button>\n            </div>\n            <div className=\"filter\">\n              <input\n                className=\"filter__checkbox\"\n                type=\"checkbox\"\n                onClick={onChecked}\n                defaultChecked={isChecked ? true : false}\n              ></input>\n              <p className=\"filter__text\">Короткометражки</p>\n            </div>\n          </div>\n          <span className={errorClassName}>Введите ключевое слово</span>\n        </form>\n      ) : (\n        <>\n          <form\n            className=\"searchform\"\n            onSubmit={handleSavedMoviesSubmit}\n            noValidate\n          >\n            <div className=\"searchform__container\">\n              <div className=\"searchform__content\">\n                <div className=\"searchform__line\">\n                  <img\n                    className=\"searchform__icon\"\n                    src={searchIcon}\n                    alt=\"Поиск\"\n                  ></img>\n                  <input\n                    className=\"searchform__input\"\n                    type=\"search\"\n                    name=\"searchText\"\n                    value={text || \"\"}\n                    placeholder=\"Фильм\"\n                    onChange={handleTextChange}\n                    required\n                  ></input>\n                </div>\n                <button className=\"searchform__button\" type=\"submit\">\n                  <img\n                    className=\"searchform__button-image\"\n                    src={searchButton}\n                    alt=\"\"\n                  ></img>\n                </button>\n              </div>\n              <div className=\"filter\">\n                <input\n                  className=\"filter__checkbox\"\n                  type=\"checkbox\"\n                  onClick={onCheckedSavedMovies}\n                  defaultChecked={isCheckedSavedMovies ? true : false}\n                ></input>\n                <p className=\"filter__text\">Короткометражки</p>\n              </div>\n            </div>\n            <span className={errorClassName}>Введите ключевое слово</span>\n          </form>\n        </>\n      )}\n    </>\n  );\n};\n\nexport default SearchForm;\n"],"mappings":"wJAAA,OAASA,QAAT,KAAyB,OAAzB,CACA,OAASC,WAAT,KAA4B,cAA5B,CACA,MAAOC,WAAP,KAAuB,oCAAvB,CACA,MAAOC,aAAP,KAAyB,4BAAzB,C,6IAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,MASb,IARJC,UAQI,MARJA,SAQI,CAPJC,UAOI,MAPJA,UAOI,CANJC,YAMI,MANJA,YAMI,CALJC,SAKI,MALJA,SAKI,CAJJC,oBAII,MAJJA,oBAII,CAHJC,SAGI,MAHJA,SAGI,CAFJC,oBAEI,MAFJA,oBAEI,CADJC,wBACI,MADJA,wBACI,CACJ,cAAwBZ,QAAQ,CAACM,UAAD,CAAhC,wCAAOO,IAAP,eAAaC,OAAb,eACA,eAA4Cd,QAAQ,CAAC,mBAAD,CAApD,yCAAOe,cAAP,eAAuBC,iBAAvB,eACA,GAAIC,SAAQ,CAAGhB,WAAW,EAA1B,CAEA,QAASiB,iBAAT,CAA0BC,GAA1B,CAA+B,CAC7BL,OAAO,CAACK,GAAG,CAACC,MAAJ,CAAWC,KAAZ,CAAP,CACD,CAED,QAASC,aAAT,CAAsBC,aAAtB,CAAqC,CACnCf,SAAS,CAAC,IAAD,CAAT,CACA,GAAI,CAACK,IAAL,CAAW,CACT,MAAOG,kBAAiB,CAACD,cAAc,CAAG,2BAAlB,CAAxB,CACD,CAFD,IAEO,CACLQ,aAAa,CAACV,IAAD,CAAb,CACAW,UAAU,CAAC,UAAM,CACfhB,SAAS,CAAC,KAAD,CAAT,CACD,CAFS,CAEP,GAFO,CAAV,CAGA,MAAOQ,kBAAiB,CAAC,mBAAD,CAAxB,CACD,CACF,CAED,QAASS,mBAAT,CAA4BN,GAA5B,CAAiC,CAC/BA,GAAG,CAACO,cAAJ,GACAJ,YAAY,CAACf,YAAD,CAAZ,CACD,CAED,QAASoB,wBAAT,CAAiCR,GAAjC,CAAsC,CACpCA,GAAG,CAACO,cAAJ,GACAJ,YAAY,CAACV,wBAAD,CAAZ,CACD,CAED,mBACE,yBACGK,QAAQ,CAACW,QAAT,GAAsB,SAAtB,cACC,cAAM,SAAS,CAAC,YAAhB,CAA6B,QAAQ,CAAEH,kBAAvC,CAA2D,UAAU,KAArE,wBACE,aAAK,SAAS,CAAC,uBAAf,wBACE,aAAK,SAAS,CAAC,qBAAf,wBACE,aAAK,SAAS,CAAC,kBAAf,wBACE,YACE,SAAS,CAAC,kBADZ,CAEE,GAAG,CAAEvB,UAFP,CAGE,GAAG,CAAC,gCAHN,EADF,cAME,cACE,SAAS,CAAC,mBADZ,CAEE,IAAI,CAAC,QAFP,CAGE,IAAI,CAAC,YAHP,CAIE,KAAK,CAAEW,IAAI,EAAI,EAJjB,CAKE,WAAW,CAAC,gCALd,CAME,QAAQ,CAAEK,gBANZ,CAOE,QAAQ,KAPV,EANF,GADF,cAiBE,eAAQ,SAAS,CAAC,oBAAlB,CAAuC,IAAI,CAAC,QAA5C,uBACE,YACE,SAAS,CAAC,0BADZ,CAEE,GAAG,CAAEf,YAFP,CAGE,GAAG,CAAC,EAHN,EADF,EAjBF,GADF,cA0BE,aAAK,SAAS,CAAC,QAAf,wBACE,cACE,SAAS,CAAC,kBADZ,CAEE,IAAI,CAAC,UAFP,CAGE,OAAO,CAAEE,SAHX,CAIE,cAAc,CAAEK,SAAS,CAAG,IAAH,CAAU,KAJrC,EADF,cAOE,UAAG,SAAS,CAAC,cAAb,wGAPF,GA1BF,GADF,cAqCE,aAAM,SAAS,CAAEK,cAAjB,wIArCF,GADD,cAyCC,sCACE,cACE,SAAS,CAAC,YADZ,CAEE,QAAQ,CAAEY,uBAFZ,CAGE,UAAU,KAHZ,wBAKE,aAAK,SAAS,CAAC,uBAAf,wBACE,aAAK,SAAS,CAAC,qBAAf,wBACE,aAAK,SAAS,CAAC,kBAAf,wBACE,YACE,SAAS,CAAC,kBADZ,CAEE,GAAG,CAAEzB,UAFP,CAGE,GAAG,CAAC,gCAHN,EADF,cAME,cACE,SAAS,CAAC,mBADZ,CAEE,IAAI,CAAC,QAFP,CAGE,IAAI,CAAC,YAHP,CAIE,KAAK,CAAEW,IAAI,EAAI,EAJjB,CAKE,WAAW,CAAC,gCALd,CAME,QAAQ,CAAEK,gBANZ,CAOE,QAAQ,KAPV,EANF,GADF,cAiBE,eAAQ,SAAS,CAAC,oBAAlB,CAAuC,IAAI,CAAC,QAA5C,uBACE,YACE,SAAS,CAAC,0BADZ,CAEE,GAAG,CAAEf,YAFP,CAGE,GAAG,CAAC,EAHN,EADF,EAjBF,GADF,cA0BE,aAAK,SAAS,CAAC,QAAf,wBACE,cACE,SAAS,CAAC,kBADZ,CAEE,IAAI,CAAC,UAFP,CAGE,OAAO,CAAEM,oBAHX,CAIE,cAAc,CAAEE,oBAAoB,CAAG,IAAH,CAAU,KAJhD,EADF,cAOE,UAAG,SAAS,CAAC,cAAb,wGAPF,GA1BF,GALF,cAyCE,aAAM,SAAS,CAAEI,cAAjB,wIAzCF,GADF,EA1CJ,EADF,CA2FD,CApID,CAsIA,cAAeX,WAAf"},"metadata":{},"sourceType":"module"}