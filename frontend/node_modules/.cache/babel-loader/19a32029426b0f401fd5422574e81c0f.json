{"ast":null,"code":"import _slicedToArray from\"/Users/mike/Desktop/Code/Projects/Diploma/movies-explorer-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useLocation}from\"react-router-dom\";import{useState}from\"react\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var MoviesCard=function MoviesCard(_ref){var movie=_ref.movie,savedMovies=_ref.savedMovies,onHandleBookmark=_ref.onHandleBookmark,onDeleteMovie=_ref.onDeleteMovie;var location=useLocation();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),isLiked=_useState2[0],setIsLiked=_useState2[1];var isBookmarked=savedMovies.some(function(item){return item.nameRU===movie.nameRU;});var movieBtnClassName=\"movie__button \".concat(isBookmarked||isLiked?\"movie__button_active\":\"\");function handleMovieBookmark(){if(isBookmarked){setIsLiked(false);}else{setIsLiked(!isLiked);}onHandleBookmark(movie);}function handleMovieDelete(){onDeleteMovie(movie._id);}function durationConvertation(duration){var hours=Math.floor(duration/60);var minutes=duration%60;return hours+\"ч \"+minutes+\"м\";}return/*#__PURE__*/_jsx(\"li\",{className:\"movie\",children:location.pathname===\"/movies\"?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"movie__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"movie__description\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"movie__title\",children:movie.nameRU}),/*#__PURE__*/_jsx(\"p\",{className:\"movie__duration\",children:durationConvertation(movie.duration)})]}),/*#__PURE__*/_jsx(\"button\",{className:movieBtnClassName,type:\"button\",onClick:handleMovieBookmark})]}),/*#__PURE__*/_jsx(\"a\",{className:\"movie__trailer\",href:movie.trailerLink,target:\"_blank\",rel:\"noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{className:\"movie__cover\",src:\"https://api.nomoreparties.co\".concat(movie.image.url),alt:movie.nameRU})})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"movie__info\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"movie__description\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"movie__title\",children:movie.nameRU}),/*#__PURE__*/_jsx(\"p\",{className:\"movie__duration\",children:durationConvertation(movie.duration)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"movie__button movie__button-delete\",type:\"button\",onClick:handleMovieDelete})]}),/*#__PURE__*/_jsx(\"a\",{className:\"movie__trailer\",href:movie.trailerLink,target:\"_blank\",rel:\"noreferrer\",children:/*#__PURE__*/_jsx(\"img\",{className:\"movie__cover\",src:movie.image,alt:movie.nameRU})})]})});};export default MoviesCard;","map":{"version":3,"names":["useLocation","useState","MoviesCard","movie","savedMovies","onHandleBookmark","onDeleteMovie","location","isLiked","setIsLiked","isBookmarked","some","item","nameRU","movieBtnClassName","handleMovieBookmark","handleMovieDelete","_id","durationConvertation","duration","hours","Math","floor","minutes","pathname","trailerLink","image","url"],"sources":["/Users/mike/Desktop/Code/Projects/Diploma/movies-explorer-frontend/src/components/Movies/MoviesCard/MoviesCard.js"],"sourcesContent":["import { useLocation } from \"react-router-dom\";\nimport { useState } from \"react\";\n\nconst MoviesCard = ({\n  movie,\n  savedMovies,\n  onHandleBookmark,\n  onDeleteMovie,\n}) => {\n  const location = useLocation();\n  const [isLiked, setIsLiked] = useState(false);\n  const isBookmarked = savedMovies.some((item) => item.nameRU === movie.nameRU);\n  const movieBtnClassName = `movie__button ${\n    isBookmarked || isLiked ? \"movie__button_active\" : \"\"\n  }`;\n\n  function handleMovieBookmark() {\n    if (isBookmarked) {\n      setIsLiked(false);\n    } else {\n      setIsLiked(!isLiked);\n    }\n    onHandleBookmark(movie);\n  }\n\n  function handleMovieDelete() {\n    onDeleteMovie(movie._id);\n  }\n\n  function durationConvertation(duration) {\n    const hours = Math.floor(duration / 60);\n    const minutes = duration % 60;\n    return hours + \"ч \" + minutes + \"м\";\n  }\n\n  return (\n    <li className=\"movie\">\n      {location.pathname === \"/movies\" ? (\n        <>\n          <div className=\"movie__info\">\n            <div className=\"movie__description\">\n              <p className=\"movie__title\">{movie.nameRU}</p>\n              <p className=\"movie__duration\">\n                {durationConvertation(movie.duration)}\n              </p>\n            </div>\n            <button\n              className={movieBtnClassName}\n              type=\"button\"\n              onClick={handleMovieBookmark}\n            ></button>\n          </div>\n          <a\n            className=\"movie__trailer\"\n            href={movie.trailerLink}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            <img\n              className=\"movie__cover\"\n              src={`https://api.nomoreparties.co${movie.image.url}`}\n              alt={movie.nameRU}\n            ></img>\n          </a>\n        </>\n      ) : (\n        <>\n          <div className=\"movie__info\">\n            <div className=\"movie__description\">\n              <p className=\"movie__title\">{movie.nameRU}</p>\n              <p className=\"movie__duration\">\n                {durationConvertation(movie.duration)}\n              </p>\n            </div>\n            <button\n              className=\"movie__button movie__button-delete\"\n              type=\"button\"\n              onClick={handleMovieDelete}\n            ></button>\n          </div>\n          <a\n            className=\"movie__trailer\"\n            href={movie.trailerLink}\n            target=\"_blank\"\n            rel=\"noreferrer\"\n          >\n            <img\n              className=\"movie__cover\"\n              src={movie.image}\n              alt={movie.nameRU}\n            ></img>\n          </a>\n        </>\n      )}\n    </li>\n  );\n};\n\nexport default MoviesCard;\n"],"mappings":"wJAAA,OAASA,WAAT,KAA4B,kBAA5B,CACA,OAASC,QAAT,KAAyB,OAAzB,C,6IAEA,GAAMC,WAAU,CAAG,QAAbA,WAAa,MAKb,IAJJC,MAII,MAJJA,KAII,CAHJC,WAGI,MAHJA,WAGI,CAFJC,gBAEI,MAFJA,gBAEI,CADJC,aACI,MADJA,aACI,CACJ,GAAMC,SAAQ,CAAGP,WAAW,EAA5B,CACA,cAA8BC,QAAQ,CAAC,KAAD,CAAtC,wCAAOO,OAAP,eAAgBC,UAAhB,eACA,GAAMC,aAAY,CAAGN,WAAW,CAACO,IAAZ,CAAiB,SAACC,IAAD,QAAUA,KAAI,CAACC,MAAL,GAAgBV,KAAK,CAACU,MAAhC,EAAjB,CAArB,CACA,GAAMC,kBAAiB,yBACrBJ,YAAY,EAAIF,OAAhB,CAA0B,sBAA1B,CAAmD,EAD9B,CAAvB,CAIA,QAASO,oBAAT,EAA+B,CAC7B,GAAIL,YAAJ,CAAkB,CAChBD,UAAU,CAAC,KAAD,CAAV,CACD,CAFD,IAEO,CACLA,UAAU,CAAC,CAACD,OAAF,CAAV,CACD,CACDH,gBAAgB,CAACF,KAAD,CAAhB,CACD,CAED,QAASa,kBAAT,EAA6B,CAC3BV,aAAa,CAACH,KAAK,CAACc,GAAP,CAAb,CACD,CAED,QAASC,qBAAT,CAA8BC,QAA9B,CAAwC,CACtC,GAAMC,MAAK,CAAGC,IAAI,CAACC,KAAL,CAAWH,QAAQ,CAAG,EAAtB,CAAd,CACA,GAAMI,QAAO,CAAGJ,QAAQ,CAAG,EAA3B,CACA,MAAOC,MAAK,CAAG,IAAR,CAAeG,OAAf,CAAyB,GAAhC,CACD,CAED,mBACE,WAAI,SAAS,CAAC,OAAd,UACGhB,QAAQ,CAACiB,QAAT,GAAsB,SAAtB,cACC,wCACE,aAAK,SAAS,CAAC,aAAf,wBACE,aAAK,SAAS,CAAC,oBAAf,wBACE,UAAG,SAAS,CAAC,cAAb,UAA6BrB,KAAK,CAACU,MAAnC,EADF,cAEE,UAAG,SAAS,CAAC,iBAAb,UACGK,oBAAoB,CAACf,KAAK,CAACgB,QAAP,CADvB,EAFF,GADF,cAOE,eACE,SAAS,CAAEL,iBADb,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAEC,mBAHX,EAPF,GADF,cAcE,UACE,SAAS,CAAC,gBADZ,CAEE,IAAI,CAAEZ,KAAK,CAACsB,WAFd,CAGE,MAAM,CAAC,QAHT,CAIE,GAAG,CAAC,YAJN,uBAME,YACE,SAAS,CAAC,cADZ,CAEE,GAAG,uCAAiCtB,KAAK,CAACuB,KAAN,CAAYC,GAA7C,CAFL,CAGE,GAAG,CAAExB,KAAK,CAACU,MAHb,EANF,EAdF,GADD,cA6BC,wCACE,aAAK,SAAS,CAAC,aAAf,wBACE,aAAK,SAAS,CAAC,oBAAf,wBACE,UAAG,SAAS,CAAC,cAAb,UAA6BV,KAAK,CAACU,MAAnC,EADF,cAEE,UAAG,SAAS,CAAC,iBAAb,UACGK,oBAAoB,CAACf,KAAK,CAACgB,QAAP,CADvB,EAFF,GADF,cAOE,eACE,SAAS,CAAC,oCADZ,CAEE,IAAI,CAAC,QAFP,CAGE,OAAO,CAAEH,iBAHX,EAPF,GADF,cAcE,UACE,SAAS,CAAC,gBADZ,CAEE,IAAI,CAAEb,KAAK,CAACsB,WAFd,CAGE,MAAM,CAAC,QAHT,CAIE,GAAG,CAAC,YAJN,uBAME,YACE,SAAS,CAAC,cADZ,CAEE,GAAG,CAAEtB,KAAK,CAACuB,KAFb,CAGE,GAAG,CAAEvB,KAAK,CAACU,MAHb,EANF,EAdF,GA9BJ,EADF,CA6DD,CA7FD,CA+FA,cAAeX,WAAf"},"metadata":{},"sourceType":"module"}